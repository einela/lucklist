import{j as e,b9 as t,bq as r,B as n,dq as a,D as s,aw as i,K as l,o as d,an as c,dr as o,ds as g,dt as u,R as h,du as m,dv as p,dw as w,bt as b,r as f,ah as $}from"./index-C_g2pi0Z.js";import{b as j}from"./useTitle-a7nPsmVE.js";import{D as k}from"./DeletePopover-C_LIxHes.js";import{W as v}from"./Wether-Bn5lcq9u.js";const C=()=>{const C=d();j("manage.sidemenu.metas");const{to:y}=e(),[D,q]=t(()=>r.get("/admin/meta/list")),[x,W]=n([]),B=async()=>{const e=await q();b(e,e=>W(e.content))};B();const[H,I]=a(e=>r.post(`/admin/meta/delete?id=${e}`));return s($,{spacing:"$2",alignItems:"start",w:"$full",get children(){return[s(i,{spacing:"$2",get children(){return[s(l,{colorScheme:"accent",get loading(){return D()},onClick:B,get children(){return C("global.refresh")}}),s(l,{onClick:()=>{y("/@manage/metas/add")},get children(){return C("global.add")}})]}}),s(c,{w:"$full",overflowX:"auto",get children(){return s(o,{highlightOnHover:!0,dense:!0,get children(){return[s(g,{get children(){return s(u,{get children(){return[s(h,{each:["path","password","write"],children:e=>s(m,{get children(){return C(`metas.${e}`)}})}),s(m,{get children(){return C("global.operations")}})]}})}}),s(p,{get children(){return s(h,{get each(){return x()},children:e=>s(u,{get children(){return[s(w,{get children(){return e.path}}),s(w,{get children(){return e.password}}),s(w,{get children(){return s(v,{get yes(){return e.write}})}}),s(w,{get children(){return s(i,{spacing:"$2",get children(){return[s(l,{onClick:()=>{y(`/@manage/metas/edit/${e.id}`)},get children(){return C("global.edit")}}),s(k,{get name(){return e.path},get loading(){return H()===e.id},onClick:async()=>{const t=await I(e.id);b(t,()=>{f.success(C("global.delete_success")),B()})}})]}})}})]}})})}})]}})}})]}})};export{C as default};
