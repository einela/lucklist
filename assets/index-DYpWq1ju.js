const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Common-JZfnhZXX.js","assets/index-C_g2pi0Z.js","assets/index-Dei4LpT0.css","assets/useTitle-a7nPsmVE.js","assets/SettingItem-CR5VVA99.js","assets/item_type-Bo2djN9R.js","assets/index-DJbwiRYC.js","assets/ResponsiveGrid-Dzear67t.js","assets/index-CRWiqiAK.js","assets/Profile-jI6sDGlh.js","assets/webauthn-json.browser-ponyfill-Bmv6SNib.js","assets/PublicKeys-DEtaRVTu.js","assets/S3-CuASVpXk.js","assets/FolderTree-BBXJf3vD.js","assets/index-B5f7FnMG.js","assets/Other-DUzx71J2.js","assets/offline_download-DGDODsA2.js","assets/helper-CON2rj3D.js","assets/Paginator-Dvd1jki1.js","assets/Upload-BvWW5ArA.js","assets/Copy-DNwZKMp9.js","assets/Move-CAnEiBZi.js","assets/Decompress-C-JmTwCQ.js","assets/Users-CqaVtcsJ.js","assets/DeletePopover-C_LIxHes.js","assets/Wether-Bn5lcq9u.js","assets/Storages-SdW-Hwdm.js","assets/Shares-G9p79z2f.js","assets/share-CvvitCHF.js","assets/Metas-wPO4Uf3X.js","assets/indexes-D8D0QbH8.js","assets/backup-restore-BEjARvPB.js","assets/About-ByrAJDN7.js","assets/AddOrEdit-CttrozrZ.js","assets/AddOrEdit-Ab7HAGiH.js","assets/AddOrEdit-DIFxNOPM.js","assets/AddOrEdit-BrXE7gvX.js","assets/2fa-DHjD2JOJ.js","assets/Messenger-ClHfyxZ4.js"])))=>i.map(i=>d[i]);import{D as e,R as t,ah as n,O as o,a5 as r,a6 as a,b_ as s,a9 as i,a8 as c,j as l,B as m,b$ as g,aw as u,S as d,aM as p,c0 as _,o as E,$ as h,an as A,Z as f,Y as L,aS as R,ae as I,c1 as $,c2 as O,c3 as T,c4 as P,c5 as b,c6 as D,c7 as j,c8 as C,c9 as V,ca as w,cb as S,b4 as v,cc as k,cd as x,ce as y,cf as G,aN as N,cg as B,ch as F,ai as U,aA as Y,aY as z,b9 as M,ci as W,bD as Z,bv as q,bw as H,bx as X,by as J,bz as K,aR as Q,bB as ee,bC as te,a2 as ne,bt as oe,cj as re,r as ae,bq as se,ck as ie,cl as ce,cm as le}from"./index-C_g2pi0Z.js";import{b as me,a as ge}from"./useTitle-a7nPsmVE.js";import{o as ue,A as de,e as pe,p as _e,c as Ee,q as he,r as Ae,s as fe}from"./index-DJbwiRYC.js";import{S as Le}from"./index-CRWiqiAK.js";var Re=(e=>(e[e.SINGLE=0]="SINGLE",e[e.SITE=1]="SITE",e[e.STYLE=2]="STYLE",e[e.PREVIEW=3]="PREVIEW",e[e.GLOBAL=4]="GLOBAL",e[e.ARIA2=5]="ARIA2",e[e.INDEX=6]="INDEX",e[e.SSO=7]="SSO",e[e.LDAP=8]="LDAP",e[e.S3=9]="S3",e[e.FTP=10]="FTP",e[e.TRAFFIC=11]="TRAFFIC",e))(Re||{}),Ie=(e=>(e[e.PUBLIC=0]="PUBLIC",e[e.PRIVATE=1]="PRIVATE",e[e.READONLY=2]="READONLY",e[e.DEPRECATED=3]="DEPRECATED",e))(Ie||{});const $e=t=>{const n=o(()=>{if(!r.is_admin(a())){if(void 0===t.role)return!1;if(t.role===s.GENERAL&&!r.is_general(a()))return!1}return!0});return e(c,{get fallback(){return e(Oe,t)},get children(){return[e(i,{get when(){return!n()},children:null}),e(i,{get when(){return t.children},get children(){return e(Te,t)}})]}})},Oe=t=>{const{pathname:n}=l(),o=E(),r=()=>n()===t.to;return e(de,{get cancelBase(){return t.to.startsWith("http")},display:"flex",as:f,get href(){return t.to},onClick:e=>{var n;if(Ve(),t.refresh){null==(n=e.stopPropagation)||n.call(e);let o=t.to;o.startsWith("http")||(o=L(o)),window.open(o,"_self")}},w:"$full",alignItems:"center",get _hover(){return{bgColor:r()?"$info4":h(),textDecoration:"none"}},px:"$2",py:"$1_5",rounded:"$md",cursor:"pointer",get bgColor(){return r()?"$info4":""},get color(){return r()?"$info11":""},get external(){return t.external},get children(){return[e(d,{get when(){return t.icon},get children(){return e(p,{mr:"$2",get as(){return t.icon}})}}),e(_,{get children(){return o(t.title)}})]}})},Te=t=>{const{pathname:n}=l(),[o,r]=m(n().includes(t.to)),a=E();return e(A,{w:"$full",get children(){return[e(g,{justifyContent:"space-between",onClick:()=>{r(!o())},w:"$full",alignItems:"center",get _hover(){return{bgColor:h()}},px:"$2",py:"$1_5",rounded:"$md",cursor:"pointer",get children(){return[e(u,{get children(){return[e(d,{get when(){return t.icon},get children(){return e(p,{mr:"$2",get as(){return t.icon}})}}),e(_,{get children(){return a(t.title)}})]}}),e(p,{as:ue,get transform(){return o()?"rotate(90deg)":"none"},transition:"transform 0.2s"})]}}),e(d,{get when(){return o()},get children(){return e(A,{pl:"$2",get children(){return e(Pe,{get items(){return t.children}})}})}})]}})},Pe=o=>e(n,{p:"$2",w:"$full",color:"$neutral11",spacing:"$1",get children(){return e(t,{get each(){return o.items},children:t=>e($e,t)})}}),be=I(()=>U(()=>import("./Common-JZfnhZXX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),De=[{title:"manage.sidemenu.profile",icon:$,to:"/@manage",role:s.GUEST,component:I(()=>U(()=>import("./Profile-jI6sDGlh.js"),__vite__mapDeps([9,1,2,3,6,10,11])))},{title:"manage.sidemenu.settings",icon:S,to:"/@manage/settings",children:[{title:"manage.sidemenu.site",icon:O,to:"/@manage/settings/site",component:()=>e(be,{get group(){return Re.SITE}})},{title:"manage.sidemenu.style",icon:T,to:"/@manage/settings/style",component:()=>e(be,{get group(){return Re.STYLE}})},{title:"manage.sidemenu.preview",icon:P,to:"/@manage/settings/preview",component:()=>e(be,{get group(){return Re.PREVIEW}})},{title:"manage.sidemenu.global",icon:b,to:"/@manage/settings/global",component:()=>e(be,{get group(){return Re.GLOBAL}})},{title:"manage.sidemenu.sso",icon:D,to:"/@manage/settings/sso",component:()=>e(be,{get group(){return Re.SSO}})},{title:"manage.sidemenu.ldap",icon:D,to:"/@manage/settings/ldap",component:()=>e(be,{get group(){return Re.LDAP}})},{title:"manage.sidemenu.s3",icon:j,to:"/@manage/settings/s3",component:I(()=>U(()=>import("./S3-CuASVpXk.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,13,14,8])))},{title:"manage.sidemenu.ftp",icon:C,to:"/@manage/settings/ftp",component:()=>e(be,{get group(){return Re.FTP}})},{title:"manage.sidemenu.traffic",icon:V,to:"/@manage/settings/traffic",component:()=>e(be,{get group(){return Re.TRAFFIC}})},{title:"manage.sidemenu.other",icon:w,to:"/@manage/settings/other",component:I(()=>U(()=>import("./Other-DUzx71J2.js"),__vite__mapDeps([15,1,2,13,6,3,4,5,8])))}]},{title:"manage.sidemenu.tasks",icon:function(e){return R({a:{viewBox:"0 0 16 16"},c:'<path d="M0 1.75C0 .784.784 0 1.75 0h3.5C6.216 0 7 .784 7 1.75v3.5A1.75 1.75 0 0 1 5.25 7H4v4a1 1 0 0 0 1 1h4v-1.25C9 9.784 9.784 9 10.75 9h3.5c.966 0 1.75.784 1.75 1.75v3.5A1.75 1.75 0 0 1 14.25 16h-3.5A1.75 1.75 0 0 1 9 14.25v-.75H5A2.5 2.5 0 0 1 2.5 11V7h-.75A1.75 1.75 0 0 1 0 5.25Zm1.75-.25a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25Zm9 9a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25Z"/>'},e)},to:"/@manage/tasks",role:s.GENERAL,children:[{title:"manage.sidemenu.offline_download",icon:v,to:"/@manage/tasks/offline_download",role:s.GENERAL,component:I(()=>U(()=>import("./offline_download-DGDODsA2.js"),__vite__mapDeps([16,1,2,3,17,18,6])))},{title:"manage.sidemenu.upload",icon:k,to:"/@manage/tasks/upload",role:s.GENERAL,component:I(()=>U(()=>import("./Upload-BvWW5ArA.js"),__vite__mapDeps([19,1,2,3,17,18,6])))},{title:"manage.sidemenu.copy",icon:x,to:"/@manage/tasks/copy",role:s.GENERAL,component:I(()=>U(()=>import("./Copy-DNwZKMp9.js"),__vite__mapDeps([20,1,2,3,17,18,6])))},{title:"manage.sidemenu.move",icon:y,to:"/@manage/tasks/move",role:s.GENERAL,component:I(()=>U(()=>import("./Move-CAnEiBZi.js"),__vite__mapDeps([21,1,2,3,17,18,6])))},{title:"manage.sidemenu.decompress",icon:pe,to:"/@manage/tasks/decompress",role:s.GENERAL,component:I(()=>U(()=>import("./Decompress-C-JmTwCQ.js"),__vite__mapDeps([22,1,2,3,17,18,6])))}]},{title:"manage.sidemenu.users",icon:G,to:"/@manage/users",component:I(()=>U(()=>import("./Users-CqaVtcsJ.js"),__vite__mapDeps([23,1,2,3,24,25])))},{title:"manage.sidemenu.storages",icon:_e,to:"/@manage/storages",component:I(()=>U(()=>import("./Storages-SdW-Hwdm.js"),__vite__mapDeps([26,1,2,3,24])))},{title:"manage.sidemenu.shares",icon:Ee,to:"/@manage/shares",role:s.GENERAL,component:I(()=>U(()=>import("./Shares-G9p79z2f.js"),__vite__mapDeps([27,1,2,3,28,24])))},{title:"manage.sidemenu.metas",icon:Le,to:"/@manage/metas",component:I(()=>U(()=>import("./Metas-wPO4Uf3X.js"),__vite__mapDeps([29,1,2,3,24,25])))},{title:"manage.sidemenu.indexes",icon:N,to:"/@manage/indexes",component:I(()=>U(()=>import("./indexes-D8D0QbH8.js"),__vite__mapDeps([30,1,2,0,3,4,5,6,7,8])))},{title:"manage.sidemenu.backup-restore",to:"/@manage/backup-restore",icon:he,component:I(()=>U(()=>import("./backup-restore-BEjARvPB.js"),__vite__mapDeps([31,1,2,3,14])))},{title:"manage.sidemenu.about",icon:B,to:"/@manage/about",role:s.GUEST,component:I(()=>U(()=>import("./About-ByrAJDN7.js"),__vite__mapDeps([32,1,2,3])))},{title:"manage.sidemenu.docs",icon:Ae,to:"https://doc.oplist.org",role:s.GUEST,external:!0},{title:"manage.sidemenu.home",icon:F,to:"/",role:s.GUEST,refresh:!0}],{isOpen:je,onOpen:Ce,onClose:Ve}=z(),[we,Se]=M(()=>se.get("/auth/logout")),ve=()=>{const t=E(),{to:n}=l(),o=async()=>{oe(await Se(),()=>{re(),ae.success(t("manage.logout_success")),n(`/@login?redirect=${encodeURIComponent(location.pathname1)}`)})};return e(A,{as:"header",position:"sticky",top:"0",left:"0",right:"0",zIndex:"$sticky",height:"64px",flexShrink:0,shadow:"$md",p:"$4",get bgColor(){return ne("$background","$neutral2")()},get children(){return[e(g,{alignItems:"center",justifyContent:"space-between",h:"$full",get children(){return[e(u,{spacing:"$2",get children(){return[e(Y,{"aria-label":"menu",get icon(){return e(fe,{})},display:{"@sm":"none"},onClick:Ce,size:"sm"}),e(_,{fontSize:"$xl",color:"$info9",cursor:"pointer",onClick:()=>{n("/@manage")},get children(){return t("manage.title")}})]}}),e(u,{spacing:"$1",get children(){return e(Y,{"aria-label":"logout",get icon(){return e(W,{})},get loading(){return we()},onClick:o,size:"sm"})}})]}}),e(Z,{get opened(){return je()},placement:"left",onClose:Ve,get children(){return[e(q,{}),e(H,{get children(){return[e(X,{}),e(J,{color:"$info9",get children(){return t("manage.title")}}),e(K,{get children(){return[e(Pe,{items:De}),e(Q,{get children(){return e(u,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[e(ee,{}),e(te,{})]}})}})]}})]}})]}})]}})},ke=[{to:"/storages/add",component:I(()=>U(()=>import("./AddOrEdit-CttrozrZ.js"),__vite__mapDeps([33,1,2,5,7])))},{to:"/storages/edit/:id",component:I(()=>U(()=>import("./AddOrEdit-CttrozrZ.js"),__vite__mapDeps([33,1,2,5,7])))},{to:"/shares/add",component:I(()=>U(()=>import("./AddOrEdit-Ab7HAGiH.js"),__vite__mapDeps([34,1,2,28,5,7,6])))},{to:"/shares/edit/:id",component:I(()=>U(()=>import("./AddOrEdit-Ab7HAGiH.js"),__vite__mapDeps([34,1,2,28,5,7,6])))},{to:"/users/add",component:I(()=>U(()=>import("./AddOrEdit-DIFxNOPM.js"),__vite__mapDeps([35,1,2,13,6,11])))},{to:"/users/edit/:id",component:I(()=>U(()=>import("./AddOrEdit-DIFxNOPM.js"),__vite__mapDeps([35,1,2,13,6,11])))},{to:"/metas/add",component:I(()=>U(()=>import("./AddOrEdit-BrXE7gvX.js"),__vite__mapDeps([36,1,2,13,6])))},{to:"/metas/edit/:id",component:I(()=>U(()=>import("./AddOrEdit-BrXE7gvX.js"),__vite__mapDeps([36,1,2,13,6])))},{to:"/2fa",component:I(()=>U(()=>import("./2fa-DHjD2JOJ.js"),__vite__mapDeps([37,1,2])))},{to:"/messenger",component:I(()=>U(()=>import("./Messenger-ClHfyxZ4.js"),__vite__mapDeps([38,1,2])))}],xe=t=>(me(t.title),e(Q,{h:"$full",get children(){return e(_,{get children(){return t.title}})}})),ye=(t,n=[])=>(t.forEach(t=>{t.children?ye(t.children,n):n.push({to:ie(t.to,"/@manage"),component:t.component||(()=>e(xe,{get title(){return t.title},get to(){return t.to||"empty"}}))})}),n),Ge=ye(De).concat(ke),Ne=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const n=E();return ge(()=>n("manage.title")),e(A,{css:{"--hope-colors-background":"var(--hope-colors-loContrast)"},bgColor:"$background",w:"$full",get children(){return[e(ve,{}),e(g,{w:"$full",h:"calc(100vh - 64px)",get children(){return[e(A,{display:{"@initial":"none","@sm":"block"},w:"$56",h:"$full",shadow:"$md",get bgColor(){return ne("$background","$neutral2")()},overflowY:"auto",get children(){return[e(Pe,{items:De}),e(Q,{get children(){return e(u,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[e(ee,{}),e(te,{})]}})}})]}}),e(A,{w:{"@initial":"$full","@sm":"calc(100% - 14rem)"},p:"$4",overflowY:"auto",get children(){return e(ce,{get children(){return e(t,{each:Ge,children:t=>e(le,{get path(){return t.to},get component(){return t.component}})})}})}})]}})]}})}},Symbol.toStringTag,{value:"Module"}));export{Ie as F,Re as G,Ne as i};
